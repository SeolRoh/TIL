# Docker를 활용한 컨테이너 개발

## 4. 1 레플리케이션 구성하기

> Replication 이란?
>
> DB 서버의 데이터를 다른 데이터베이스의 서버들에게 복제 할 수 있다.  
>
> 마스터와 슬래이브 서버로 구성된다. 즉 복제 작업을 하려면 마스터(primary)라는 main이 있어야한다.

+ Dokerfile 내 환경설정하기

  ```
  FROM mongo
  CMD ["mongod","--replSet","myapp"]
  ```

  CMD 컨스트럭션 내부에 `replSet` 설정

+ ip 확인명령어

  ```
  > docker exec -it 9a146b7dbe55 bash
  /# hostname -i
  
  >docker exec -it 9a146b7dbe55 hostname -i
  #혹은 이렇게 접속해도 된다.
  ```

  들어간 후에 확인

+ slave 역할을 할수 있도록 지정하는 명령어

  ```
  rs.add("172.00.0.3:27017")
  rs.add("172.00.0.4:27017")
  ```

  현재 나는 2번을 마스터로 주었고 나머지 3번 4번을 슬래이브로 줌.

+ 서브모드로 접속

  ```
  mongod
  ```

+ client 접속

  ```
  mongo
  ```

  

