# Docker를 활용한 컨테이너 개발

## 7. Visualizer를 사용해 컨테이너 배치 시각화하기

+ visualizer.yml 생성

  ```
  version: "3"
  services:
      app:
          image: dockersamples/visualizer
          ports:
              - "9000:8080"
          volumes:
              - /var/run/docker.sock:/var/run/docker.sock
          deploy:
              mode: global
              placement:
                  constraints: [node.role == manager]
  ```

+ 스택 배포

  stack 디렉토리는 매니저 컨테이너 안의 /stack 디렉터리에 마운트 되서 경로 설정에 주의

  ```powershell
  $ docker stack deploy -c /stack/visualizer.yml visualizer
  Creating service visualizer_app
  
  $ docker service ls
  ID                  NAME                MODE                REPLICAS            IMAGE                               PORTS
  jtcwhq2twz52        visualizer_app      global              1/1                 dockersamples/visualizer:latest     *:9000->8080/tcp
  ```

+ Visualizer를 사용해 컨테이너 배치 시각화하기

  ![Visualizer](https://github.com/SeolRoh/TIL/blob/master/etc/visualizer.JPG)

