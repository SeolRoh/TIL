## Spring Framework_Dynamic Proxy 

1. **Dynamic Proxy (동적 프록시)**

   + AOP를 구현하기 위해 사용되는 프록시 개념은 유용하지만 단점이 있다.
   + 런타임 시 동적으로 만들어지는 Object
   + 리플렉션 기능을 이용해 프록시 생성
   + 타깃 인터페이스와 동일한 형태로 생성
   + FactoryBean을 통해서 생성

2. 프록시의 단점

   1. **매 번 새로운 클래스의 정의가 필요하다.**

      + 실제 프록시 클래스는 실제 구현 클래스와 동일한 형태라서 구현클래스의 인터페이스를 <u>모두</u> 구현해야한다.

   2. **target의 인터페이스를 구현하고 위임하는 코드 작성이 번거롭다.**

      + 부가기능이 필요없는 메소드도 구현해서 타깃으로 위임을 일일이 해줘야 한다.
      + 그러면 인터페이스의 메소드가 많고 다양해질 수 밖에 없다.
      + 또 타깃 인터페이스의 메소드가 추가, 변경되면 그때마다 수정해야한다.

   3. **부가기능 코드의 중복 가능성이 있다.**

      + 프록시를 활용할 만한 부가기능, 접근 제어기능은 평소 자주 사용하기 때문에 다양한 타깃 클래스와 메소드에 중복핵되어 나타난다.

        -- 특히, 트랜잭션 처리는 데이터베이스를 사용하는 대부분의 로직에서 적용되어야 할 필요가 있다.

      + 메소드가 많아지고 트랜잭션 적용의 비율이 높아지면 이 트랜잭션 기능을 제공하는 유사 코드가 여러 메서드에 중복되어 나타날 수있다.

3. 해결 방법

   ##### Dynamic Proxy 사용

   > 1. Proxy.newProxyInstance() 를 통한 프록시 생성.
   >
   > 2. Proxy.newProxyInstance() 를 호출할 때 전달하는 InvocationHandler 인터페이스의 단일 메소드인 invoke()에 부가 기능을 단 한번 만 구현함으로써 코드 중복 해결.
   >
   > 
   >
   > 내용 출처: https://ooz.co.kr/205?category=818548 [이러쿵저러쿵]

---



#### 출처

이러쿵 저러쿵 블로그 https://ooz.co.kr/205?category=818548